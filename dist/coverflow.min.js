!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.coverflow=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){module.exports=require("./lib/coverflow.js")},{"./lib/coverflow.js":2}],2:[function(require,module){"use strict";function initialize(t,e){for(e=e||{},pressed=!1,oldActiveIndex=0,timeConstant=e.timeConstant||250,tapMaxConstant=e.tapMaxConstant||150,dim=e.dim||200,offset=target=0,reference=amplitude=velocity=frame=void 0,angle=e.angle||-60,dist=e.angle||-150,shift=e.shift||10,activeClick=e.activeClick||function(){},onChange=e.onChange||function(){},t="string"==typeof t?document.getElementById(t):t,count=t.children.length,images=[];images.length<count;)images.push(t.children.item(images.length));images.map(function(t,e){t.onclick=function(t){flowTo(e),t.preventDefault(),t.stopPropagation()}}),scroll(offset),t.className+=" coverflow",setupEvents(t)}function setupEvents(t){"undefined"!=typeof window.ontouchstart&&(t.addEventListener("touchstart",tap),t.addEventListener("touchmove",drag),t.addEventListener("touchend",release)),t.addEventListener("mousedown",tap),t.addEventListener("mousemove",drag),t.addEventListener("mouseup",release),document.addEventListener("keydown",handleKey)}function xpos(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function wrap(t){return t>=count?t%count:0>t?wrap(count+t%count):t}function scroll(t){var e,n,a,o,i,r,s;for(offset="number"==typeof t?t:offset,center=Math.floor((offset+dim/2)/dim),a=offset-center*dim,o=0>a?1:-1,i=-o*a*2/dim,s="translateX("+(window.innerWidth-dim)/2+"px) ",s+="translateY("+(window.innerHeight-dim)/2+"px)",r=images[wrap(center)],r.style[xform]=s+" translateX("+-a/2+"px) translateX("+o*shift*i+"px) translateZ("+dist*i+"px) rotateY("+o*angle*i+"deg)",r.style.zIndex=0,r.style.opacity=1,n=count>>1,e=1;n>=e;++e)r=images[wrap(center+e)],r.style[xform]=s+" translateX("+(shift+(dim*e-a)/2)+"px) translateZ("+dist+"px) rotateY("+angle+"deg)",r.style.zIndex=-e,r.style.opacity=e===n&&0>a?1-i:1,r=images[wrap(center-e)],r.style[xform]=s+" translateX("+(-shift+(-dim*e-a)/2)+"px) translateZ("+dist+"px) rotateY("+-angle+"deg)",r.style.zIndex=-e,r.style.opacity=e===n&&a>0?1-i:1;r=images[wrap(center)],r.style[xform]=s+" translateX("+-a/2+"px) translateX("+o*shift*i+"px) translateZ("+dist*i+"px) rotateY("+o*angle*i+"deg)",r.style.zIndex=0,r.style.opacity=1}function track(){var t,e,n,a;t=Date.now(),e=t-timestamp,timestamp=t,n=offset-frame,frame=offset,a=1e3*n/(1+e),velocity=.8*a+.2*velocity}function autoScroll(){var t,e;amplitude&&(t=Date.now()-timestamp,e=amplitude*Math.exp(-t/timeConstant),e>4||-4>e?(scroll(target-e),requestAnimationFrame(autoScroll)):(scroll(target),changed(getActiveIndex())))}function tap(t){return pressed=!0,reference=xpos(t),velocity=amplitude=0,frame=offset,timestamp=Date.now(),starttimestamp=timestamp,clearInterval(ticker),ticker=setInterval(track,100),"mousedown"==t.type&&t.preventDefault(),t.stopPropagation(),"mousedown"==t.type?!1:void 0}function drag(t){var e,n;return pressed&&(e=xpos(t),n=reference-e,(n>2||-2>n)&&(reference=e,scroll(offset+n))),t.preventDefault(),t.stopPropagation(),!1}function release(t){return pressed=!1,clearInterval(ticker),target=offset,timestamp=Date.now(),velocity>10||-10>velocity?(amplitude=.9*velocity,target=offset+amplitude,target=Math.round(target/dim)*dim,amplitude=target-offset,requestAnimationFrame(autoScroll),t.preventDefault(),t.stopPropagation(),!1):timestamp-starttimestamp>tapMaxConstant?(target=Math.round(target/dim)*dim,amplitude=target-offset,requestAnimationFrame(autoScroll),t.preventDefault(),t.stopPropagation(),!1):void 0}function handleKey(t){return pressed||target!==offset||([32,34,39,40].indexOf(t.which)>=0&&(target=offset+dim),[33,37,38].indexOf(t.which)>=0&&(target=offset-dim),offset===target)?void 0:(amplitude=target-offset,timestamp=Date.now(),requestAnimationFrame(autoScroll),!0)}function flowTo(t){var e=getActiveIndex();if(t!=e){var n;return n=t-e>count/2?t-e-count:-count/2>=t-e?t-e+count:t-e,target=offset+n*dim,amplitude=target-offset,timestamp=Date.now(),requestAnimationFrame(autoScroll),!0}activeClick(e)}function getActiveIndex(){for(var t=center%count;0>t;)t+=count;return t}function getActiveElement(){return images[getActiveIndex()]}function getActiveId(){return images[getActiveIndex()].id}function changed(t){oldActiveIndex!=t&&(onChange(t,oldActiveIndex),oldActiveIndex=t)}require("./raf.lib.js");var count,images,dim,offset,center,angle,dist,shift,pressed,reference,amplitude,target,velocity,timeConstant,xform,frame,timestamp,ticker,oldActiveIndex,starttimestamp,tapMaxConstant,activeClick,onChange;xform="transform",["webkit","Moz","O","ms"].every(function(t){var e=t+"Transform";return"undefined"!=typeof document.body.style[e]?(xform=e,!1):!0}),window.addEventListener("resize",scroll),module.exports={initialize:initialize,flowTo:flowTo,getActiveId:getActiveId,getActiveElement:getActiveElement,getActiveIndex:getActiveIndex}},{"./raf.lib.js":3}],3:[function(){!function(e){for(var n=0,a=["webkit","moz"],t=e.requestAnimationFrame,i=e.cancelAnimationFrame,m=a.length;--m>=0&&!t;)t=e[a[m]+"RequestAnimationFrame"],i=e[a[m]+"CancelRequestAnimationFrame"];t&&i||(t=function(e){var a=+Date.now(),t=Math.max(n+16,a);return setTimeout(function(){e(n=t)},t-a)},i=clearTimeout),e.requestAnimationFrame=t,e.cancelAnimationFrame=i}(window)},{}]},{},[1])(1)});