!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.coverflow=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){module.exports=require("./lib/coverflow.js")},{"./lib/coverflow.js":2}],2:[function(require,module){"use strict";function initialize(e,t){for(t=t||{},pressed=!1,oldActiveIndex=0,timeConstant=t.timeConstant||250,tapMaxConstant=t.tapMaxConstant||150,dim=t.dim||200,offset=target=0,reference=amplitude=velocity=frame=void 0,angle=t.angle||-60,dist=t.angle||-150,shift=t.shift||10,onActiveClick=t.onActiveClick||function(){},onChange=t.onChange||function(){},e="string"==typeof e?document.getElementById(e):e,count=e.children.length,images=[];images.length<count;)images.push(e.children.item(images.length));var n=0,a=0;images.map(function(e,t){e.onclick=function(e){flowTo(t),e.preventDefault(),e.stopPropagation()},n=n>e.scrollHeight?n:e.scrollHeight,a=a>e.style.width?a:e.style.width}),n=t.maxHeight||n,a=t.maxWidth||a,e.className+=" coverflow",e.style.height=n,viewHeight=n,view=e,scroll(offset),setupEvents(e)}function setupEvents(){"undefined"!=typeof window.ontouchstart&&(view.addEventListener("touchstart",tap),view.addEventListener("touchmove",drag),view.addEventListener("touchend",release)),view.addEventListener("mousedown",tap),view.addEventListener("mousemove",drag),view.addEventListener("mouseup",release),document.addEventListener("keydown",handleKey)}function xpos(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function wrap(e){return e>=count?e%count:0>e?wrap(count+e%count):e}function scroll(e){var t,n,a,i,o,r,s;for(offset="number"==typeof e?e:offset,center=Math.floor((offset+dim/2)/dim),a=offset-center*dim,i=0>a?1:-1,o=-i*a*2/dim,s="translateX("+(view.clientWidth-dim)/2+"px) ",s+="translateY("+(viewHeight-dim)/2+"px)",r=images[wrap(center)],r.style[xform]=s+" translateX("+-a/2+"px) translateX("+i*shift*o+"px) translateZ("+dist*o+"px) rotateY("+i*angle*o+"deg)",r.style.zIndex=0,r.style.opacity=1,n=count>>1,t=1;n>=t;++t)r=images[wrap(center+t)],r.style[xform]=s+" translateX("+(shift+(dim*t-a)/2)+"px) translateZ("+dist+"px) rotateY("+angle+"deg)",r.style.zIndex=-t,r.style.opacity=t===n&&0>a?1-o:1,r=images[wrap(center-t)],r.style[xform]=s+" translateX("+(-shift+(-dim*t-a)/2)+"px) translateZ("+dist+"px) rotateY("+-angle+"deg)",r.style.zIndex=-t,r.style.opacity=t===n&&a>0?1-o:1;r=images[wrap(center)],r.style[xform]=s+" translateX("+-a/2+"px) translateX("+i*shift*o+"px) translateZ("+dist*o+"px) rotateY("+i*angle*o+"deg)",r.style.zIndex=0,r.style.opacity=1}function track(){var e,t,n,a;e=Date.now(),t=e-timestamp,timestamp=e,n=offset-frame,frame=offset,a=1e3*n/(1+t),velocity=.8*a+.2*velocity}function autoScroll(){var e,t;amplitude&&(e=Date.now()-timestamp,t=amplitude*Math.exp(-e/timeConstant),t>4||-4>t?(scroll(target-t),requestAnimationFrame(autoScroll)):(scroll(target),changed(getActiveIndex())))}function tap(e){return pressed=!0,reference=xpos(e),velocity=amplitude=0,frame=offset,timestamp=Date.now(),starttimestamp=timestamp,clearInterval(ticker),ticker=setInterval(track,100),"mousedown"==e.type&&e.preventDefault(),e.stopPropagation(),"mousedown"==e.type?!1:void 0}function drag(e){var t,n;return pressed&&(t=xpos(e),n=reference-t,(n>2||-2>n)&&(reference=t,scroll(offset+n))),e.preventDefault(),e.stopPropagation(),!1}function release(e){return pressed=!1,clearInterval(ticker),target=offset,timestamp=Date.now(),velocity>10||-10>velocity?(amplitude=.9*velocity,target=offset+amplitude,target=Math.round(target/dim)*dim,amplitude=target-offset,requestAnimationFrame(autoScroll),e.preventDefault(),e.stopPropagation(),!1):timestamp-starttimestamp>tapMaxConstant?(target=Math.round(target/dim)*dim,amplitude=target-offset,requestAnimationFrame(autoScroll),e.preventDefault(),e.stopPropagation(),!1):void 0}function handleKey(e){return pressed||target!==offset||([32,34,39,40].indexOf(e.which)>=0&&(target=offset+dim),[33,37,38].indexOf(e.which)>=0&&(target=offset-dim),offset===target)?void 0:(amplitude=target-offset,timestamp=Date.now(),requestAnimationFrame(autoScroll),!0)}function flowTo(e){var t=getActiveIndex();if(e!=t){var n;return n=e-t>count/2?e-t-count:-count/2>=e-t?e-t+count:e-t,target=offset+n*dim,amplitude=target-offset,timestamp=Date.now(),requestAnimationFrame(autoScroll),!0}onActiveClick(t)}function getActiveIndex(){for(var e=center%count;0>e;)e+=count;return e}function getActiveElement(){return images[getActiveIndex()]}function getActiveId(){return images[getActiveIndex()].id}function changed(e){oldActiveIndex!=e&&(onChange(e,oldActiveIndex),oldActiveIndex=e)}require("./raf.lib.js");var count,images,dim,offset,center,angle,dist,shift,pressed,reference,amplitude,target,velocity,timeConstant,xform,frame,timestamp,ticker,oldActiveIndex,starttimestamp,tapMaxConstant,onActiveClick,onChange,view,viewHeight;xform="transform",["webkit","Moz","O","ms"].every(function(e){var t=e+"Transform";return"undefined"!=typeof document.body.style[t]?(xform=t,!1):!0}),window.addEventListener("resize",scroll),module.exports={initialize:initialize,flowTo:flowTo,getActiveId:getActiveId,getActiveElement:getActiveElement,getActiveIndex:getActiveIndex}},{"./raf.lib.js":3}],3:[function(){!function(e){for(var n=0,a=["webkit","moz"],t=e.requestAnimationFrame,i=e.cancelAnimationFrame,m=a.length;--m>=0&&!t;)t=e[a[m]+"RequestAnimationFrame"],i=e[a[m]+"CancelRequestAnimationFrame"];t&&i||(t=function(e){var a=+Date.now(),t=Math.max(n+16,a);return setTimeout(function(){e(n=t)},t-a)},i=clearTimeout),e.requestAnimationFrame=t,e.cancelAnimationFrame=i}(window)},{}]},{},[1])(1)});